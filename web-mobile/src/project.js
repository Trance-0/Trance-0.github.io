window.__require=function e(t,n,s){function i(c,r){if(!n[c]){if(!t[c]){var h=c.split("/");if(h=h[h.length-1],!t[h]){var a="function"==typeof __require&&__require;if(!r&&a)return a(h,!0);if(o)return o(h,!0);throw new Error("Cannot find module '"+c+"'")}c=h}var l=n[c]={exports:{}};t[c][0].call(l.exports,function(e){return i(t[c][1][e]||e)},l,l.exports,e,t,n,s)}return n[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<s.length;c++)i(s[c]);return i}({Bomb:[function(e,t,n){"use strict";cc._RF.push(t,"bee618afCpOjL/oGoDUniHw","Bomb"),cc.Class({extends:cc.Component,properties:{speed:.01},start:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){},update:function(e){this.node.scale+=this.speed,this.node.scale>30&&this.node.destroy()}}),cc._RF.pop()},{}],BulletMove:[function(e,t,n){"use strict";cc._RF.push(t,"f52812Z61dJlpDHtirhAej7","BulletMove"),cc.Class({extends:cc.Component,properties:{speed:10,life:3},start:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){t.life-=1},update:function(e){this.node.y+=this.speed,(this.node.y>350||this.life<0)&&this.node.destroy()}}),cc._RF.pop()},{}],EnemyBullet:[function(e,t,n){"use strict";cc._RF.push(t,"b099dPCvnhP7oGiBPWiYzyR","EnemyBullet"),cc.Class({extends:cc.Component,properties:{speed:10},start:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){t.node.destroy()},update:function(e){this.node.y-=this.speed}}),cc._RF.pop()},{}],Enemy:[function(e,t,n){"use strict";cc._RF.push(t,"c70120vS0hAzr6Qr8juLmi1","Enemy"),cc.Class({extends:cc.Component,properties:{xspeed:.3,yspeed:.3},onLoad:function(){this.node.x=300*Math.random()-150,this.node.y=300*Math.random(),this.node.xs=this.xspeed,this.node.ys=this.yspeed},start:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){window.Global.score+=1,t.node.destroy()}}),cc._RF.pop()},{}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"c2e232aVVFENZSxxZrCkrJ2","Game"),cc.Class({extends:cc.Component,properties:{enemyPF:{default:null,type:cc.Prefab},enemies:{default:[],type:cc.Sprite},playerBullets:{default:[],type:cc.Sprite},player:{default:null,type:cc.Sprite},bombPF:{default:null,type:cc.Prefab},LifeBar:{default:null,type:cc.Sprite},EnergyBar:{default:null,type:cc.Sprite},playerBulletPF:{default:null,type:cc.Prefab},enemyBulletPF:{default:null,type:cc.Prefab},ememyBulletFrq:1e5,enemyFrq:5,time:0,warningDistance:100,lastscore:0,energy:0,bombConLength:1},onLoad:function(){this.node.Auto_fire=window.Global.Auto_fire,window.Global.Auto_fire&&this.schedule(function(){var e=cc.instantiate(this.playerBulletPF);e.setPosition(this.player.node.x,this.player.node.y),this.playerBullets.push(e),this.node.addChild(this.playerBullets[this.playerBullets.length-1])},.2),this.schedule(function(){var e=cc.instantiate(this.enemyPF);this.enemies.push(e),this.node.addChild(this.enemies[this.enemies.length-1])},this.enemyFrq),this.node.LifeBar=this.LifeBar,this.node.EnergyBar=this.EnergyBar,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},start:function(){this.node.score=this.score},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.space:if(!this.node.Auto_fire){var t=cc.instantiate(this.playerBulletPF);t.setPosition(this.player.node.x,this.player.node.y),this.playerBullets.push(t),this.node.addChild(this.playerBullets[this.playerBullets.length-1]);break}case cc.macro.KEY.k:if(this.node.EnergyBar.node._components[0].node._components[1].progress>=1){var n=cc.instantiate(this.bombPF);n.setPosition(this.player.node.x,this.player.node.y),this.node.addChild(n),this.node.EnergyBar.node._components[0].node._components[1].progress=0}}},ClearNullArr:function(e){for(var t=0,n=e.length;t<n;t++)0!=e[t]._objFlags&&(e.splice(t,1),n--,t--);return e},update:function(e){if(this.energy=window.Global.score-this.lastscore,this.lastscore=window.Global.score,this.node.getChildByName("Score").getComponent(cc.Label).node._components[0].string="[ "+window.Global.score+" ]",this.enemies=this.ClearNullArr(this.enemies),this.playerBullets=this.ClearNullArr(this.playerBullets),null==this.node.getChildByName("Bomb")&&(this.node.EnergyBar.node._components[0].node._components[1].progress+=this.energy/50),this.node.LifeBar.node._components[0].node._components[1].progress=this.player.node.Life/100,this.node.LifeBar.node._components[0].node._components[1].progress<.5&&(this.node.LifeBar.node.children[0].color=cc.color(255,510*this.node.LifeBar.node._components[0].node._components[1].progress,510*this.node.LifeBar.node._components[0].node._components[1].progress,255)),this.time>this.ememyBulletFrq){for(var t=0;t<this.enemies.length;t++){var n=cc.instantiate(this.enemyBulletPF);n.setPosition(this.enemies[t].x,this.enemies[t].y),this.node.addChild(n)}this.time=0}this.time+=1;for(t=0;t<this.enemies.length;t++){for(var s=0;s<this.enemies.length;s++)s!=t&&Math.pow(this.enemies[s].x-this.enemies[t].x,2)+Math.pow(this.enemies[s].y-this.enemies[t].y,2)<2500&&(Math.abs(this.enemies[s].x-this.enemies[t].x)<60&&(this.enemies[s].x>this.enemies[t].x?this.enemies[t].x-=this.enemies[t].xs:this.enemies[t].x+=this.enemies[t].xs),Math.abs(this.enemies[s].y-this.enemies[t].y)<60&&(this.enemies[s].y>this.enemies[t].y?this.enemies[t].y-=this.enemies[t].ys:this.enemies[t].y+=this.enemies[t].ys));for(s=0;s<this.playerBullets.length;s++)Math.abs(this.playerBullets[s].x-this.enemies[t].x)<this.warningDistance&&(this.playerBullets[s].x>this.enemies[t].x?this.enemies[t].x-=this.enemies[t].xs:this.enemies[t].x+=this.enemies[t].xs);Math.abs(this.player.node.y-this.enemies[t].y)<this.warningDistance?this.player.node.y>this.enemies[t].y?this.enemies[t].y-=this.enemies[t].ys:this.enemies[t].y+=this.enemies[t].ys:this.player.node.y>this.enemies[t].y?this.enemies[t].y+=this.enemies[t].ys:this.enemies[t].y-=this.enemies[t].ys,this.enemies[t].x<-150&&(this.enemies[t].x=-150),this.enemies[t].x>150&&(this.enemies[t].x=150),this.enemies[t].y<-290&&(this.enemies[t].y=-290),this.enemies[t].y>290&&(this.enemies[t].y=290)}}}),cc._RF.pop()},{}],Initialize:[function(e,t,n){"use strict";cc._RF.push(t,"78859gZd2dDebsOsR1sipHA","Initialize"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.Global={score:0,Auto_fire:!1}},start:function(){cc.director.loadScene("StartPage")}}),cc._RF.pop()},{}],JoyStick:[function(e,t,n){"use strict";cc._RF.push(t,"7c45ffAzyBMmJY+59sHYJLq","JoyStick"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},update:function(e){}}),cc._RF.pop()},{}],PlayerMove:[function(e,t,n){"use strict";cc._RF.push(t,"4648bG+KPBErr7+fHmPoZ+g","PlayerMove"),cc.Class({extends:cc.Component,properties:{ySpeed:5,xSpeed:10,Life:100,Ishit:!1,time:0},onLoad:function(){this.node.Life=this.Life,this.node.xs=0,this.node.ys=0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.node.on("touchmove",function(e){e.getLocationX()-175>this.node.x?this.node.xs=this.xSpeed:e.getLocationX()-175<this.node.x?this.node.xs=-this.xSpeed:this.node.xs=0,e.getLocationY()-320>this.node.y?this.node.ys=this.ySpeed:e.getLocationY()-320<this.node.y?this.node.ys=-this.ySpeed:this.node.ys=0}.bind(this)),this.node.on("touchend",function(e){this.node.xs=0,this.node.ys=0}.bind(this)),this.node.on("touchcancel",function(e){this.node.xs=0,this.node.ys=0}.bind(this))},start:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){"Enemy"==e.node._name&&(t.node.Life-=10),"enemy Bullet"==e.node._name&&(t.node.Life-=1),this.Ishit=!0,console.log(t.node.Life)},update:function(e){this.Ishit&&(this.node.color=cc.Color.RED,time+=1,time>60&&(this.node.color=null,this.Ishit=!1)),this.node.Life<0&&cc.director.loadScene("Gameover"),this.node.x<-175&&(this.node.x=-175),this.node.x>175&&(this.node.x=175),this.node.y<-325&&(this.node.y=-325),this.node.y>325&&(this.node.y=325),this.node.y+=this.node.ys,this.node.x+=this.node.xs},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.left:this.node.xs=-this.xSpeed;break;case cc.macro.KEY.right:this.node.xs=this.xSpeed;break;case cc.macro.KEY.up:this.node.ys=this.ySpeed;break;case cc.macro.KEY.down:this.node.ys=-this.ySpeed}},onKeyUp:function(e){switch(e.keyCode){case cc.macro.KEY.left:case cc.macro.KEY.right:this.node.xs=0;break;case cc.macro.KEY.up:case cc.macro.KEY.down:this.node.ys=0}}}),cc._RF.pop()},{}],Restart:[function(e,t,n){"use strict";cc._RF.push(t,"48e5fH+pIpC6J1bDI6Ahbt4","Restart"),cc.Class({extends:cc.Component,properties:{button:cc.Button},onLoad:function(){this.button.node.on("click",this.callback,this)},callback:function(e){cc.director.loadScene("Game")},update:function(e){this.node.getChildByName("Score").getComponent(cc.Label).node._components[0].string="[ "+window.Global.score+" ]"}}),cc._RF.pop()},{}],ScoreGet:[function(e,t,n){"use strict";cc._RF.push(t,"7efa4nrciVLLpaMrb756AXe","ScoreGet"),cc.Class({extends:cc.Component,properties:{socre:0},onLoad:function(){cc.game.addPersistRootNode(this.node)},start:function(){},update:function(e){}}),cc._RF.pop()},{}],Setting:[function(e,t,n){"use strict";cc._RF.push(t,"2e2dejFRllAOZ0BzpCksInp","Setting"),cc.Class({extends:cc.Component,properties:{button:cc.Button,toggle:cc.Toggle},onLoad:function(){this.button.node.on("click",this.callback,this)},callback:function(e){window.Global.Auto_fire=this.node.getChildByName("toggle").getComponent(cc.Toggle).isChecked,cc.director.loadScene("StartPage"),console.log(window.Global.Auto_fire)},update:function(e){}}),cc._RF.pop()},{}],StartPage:[function(e,t,n){"use strict";cc._RF.push(t,"e5772CKOZZKf5z85er2AIcy","StartPage"),cc.Class({extends:cc.Component,properties:{button:cc.Button,SettingButton:cc.Button},onLoad:function(){this.SettingButton.node.on("click",this.callback1,this),this.button.node.on("click",this.callback2,this)},callback1:function(e){cc.director.loadScene("Setting")},callback2:function(e){cc.director.loadScene("Game")}}),cc._RF.pop()},{}]},{},["Bomb","BulletMove","Enemy","EnemyBullet","Game","Initialize","JoyStick","PlayerMove","Restart","ScoreGet","Setting","StartPage"]);